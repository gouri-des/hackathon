<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>{{ text.title }}</title>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: #f4f6f9;
    margin: 0;
    padding: 40px;
}

form {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    max-width: 500px;
    margin: auto;
}

input, select {
    width: 100%;
    padding: 8px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
}

button {
    width: 100%;
    padding: 10px;
    background: #4CAF50;
    border: none;
    color: white;
    border-radius: 8px;
    cursor: pointer;
}

.card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.06);
    margin: 20px auto;
    max-width: 700px;
}

.ok { border-left: 6px solid #4CAF50; }
.fail { border-left: 6px solid #e53935; }

</style>
</head>

<body>

<h2 style="text-align:center;">SchemeSathi</h2>

<form method="POST">

<label>Language:</label>
<select name="lang">
    <option value="en" {% if lang=="en" %}selected{% endif %}>English</option>
    <option value="ml" {% if lang=="ml" %}selected{% endif %}>മലയാളം</option>
</select>

<label>Search Scheme:</label>
<input type="text" name="search" placeholder="Type scheme name...">

<label>Category:</label>
<select name="category">
    <option value="all">All</option>
    <option value="agriculture">Agriculture</option>
    <option value="pension">Pension</option>
    <option value="health">Health</option>
    <option value="education">Education</option>
    <option value="employment">Employment</option>
    <option value="insurance">Insurance</option>
    <option value="women">Women</option>
    <option value="housing">Housing</option>
</select>

<label>Age:</label>
<input type="number" name="age" required>

<label>Income:</label>
<input type="number" name="income" required>

<label>Occupation:</label>
<select name="occupation">
    <option value="farmer">Farmer</option>
    <option value="student">Student</option>
    <option value="any">Other</option>
</select>

<label>Gender:</label>
<select name="gender">
    <option value="male">Male</option>
    <option value="female">Female</option>
    <option value="any">Other</option>
</select>

<label>State:</label>
<select name="state">
    <option value="kerala">Kerala</option>
    <option value="other">Other State</option>
</select>

<button type="submit">{{ text.check }}</button>

</form>

<hr>

<h3>✅ {{ text.eligible }} ({{ schemes|length }})</h3>

{% for scheme in schemes %}
<div class="card ok">
    <h4>{{ scheme.name }}</h4>
    <p><strong>Category:</strong> {{ scheme.category }}</p>
    <p><strong>Benefit:</strong> {{ scheme.benefit }}</p>
    <ul>
        {% for r in scheme.reasons %}
        <li>{{ r }}</li>
        {% endfor %}
    </ul>
</div>
{% endfor %}

<h3>❌ {{ text.not_eligible }}</h3>

{% for scheme in not_eligible %}
<div class="card fail">
    <h4>{{ scheme.name }}</h4>
    <ul>
        {% for r in scheme.fail_reasons %}
        <li>{{ r }}</li>
        {% endfor %}
    </ul>
</div>
{% endfor %}

</body>
</html>
